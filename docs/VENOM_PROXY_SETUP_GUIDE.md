# ๐ ุฏููู ุฅุนุฏุงุฏ Venom Proxy ูููุงุชุณุงุจ - ุงูุญู ุงููุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููููู ุงููุนูุงุฑู

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Frontend      โ    โ    Backend      โ    โ  Venom Proxy    โ    โ   WhatsApp      โ
โ   (Render)      โโโโโบโ   (Render)      โโโโโบโ (ุฌูุงุฒู ุงูุดุฎุตู)  โโโโโบโ     Web         โ
โ                 โ    โ                 โ    โ                 โ    โ                 โ
โ React App       โ    โ Node.js + MySQL โ    โ venom-bot       โ    โ QR Code Scan    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                โฒ
                                โ
                       โโโโโโโโโโโโโโโโโโโ
                       โ     MySQL       โ
                       โ   (Hostinger)   โ
                       โ                 โ
                       โ srv1695.hstgr.ioโ
                       โโโโโโโโโโโโโโโโโโโ
```

## ๐ฏ ููุงุฐุง ูุฐุง ุงูุญูุ

- **Render ูุง ูุฏุนู venom-bot**: ุจุณุจุจ ูููุฏ ุงูุจูุฆุฉ ูุงููุชุตูุญ
- **ุฌูุงุฒู ุงูุดุฎุตู**: ูุดุบู venom-bot ููุชุตู ุจุงููุงุชุณุงุจ
- **Proxy Server**: ูุนูู ููุณูุท ุขูู ุจูู Render ูุฌูุงุฒู
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุนูู Hostinger ููุงุณุชูุฑุงุฑ ูุงูุฃุฏุงุก

## ๐ฆ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

### ุนูู ุฌูุงุฒู ุงูุดุฎุตู:
- **Node.js 16+** ูุซุจุช
- **Google Chrome** ูุซุจุช ููุญุฏุซ
- **ุงุชุตุงู ุฅูุชุฑูุช ูุณุชูุฑ** (ููู ุฌุฏุงู)
- **IP ุซุงุจุช ุฃู Dynamic DNS** (ูููุตูู ูู Render)

### ุนูู Render:
- ุญุณุงุจ Render ูุฌุงูู ุฃู ูุฏููุน
- ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุญุฏุซุฉ

### ุนูู Hostinger:
- ูุงุนุฏุฉ ุจูุงูุงุช MySQL ุฌุงูุฒุฉ
- ุจูุงูุงุช ุงูุงุชุตุงู ุตุญูุญุฉ

## ๐๏ธ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ ุงูุชูุตูููุฉ

### ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ Venom Proxy ุนูู ุฌูุงุฒู ุงูุดุฎุตู

#### 1.1 ุชุญููู ูุฅุนุฏุงุฏ ุงููุดุฑูุน
```bash
# ุฅูุดุงุก ูุฌูุฏ ูููุตู ููู Proxy
mkdir venom-proxy-server
cd venom-proxy-server

# ูุณุฎ ุงููููุงุช ูู ุงููุดุฑูุน ุงูุฑุฆูุณู
# ุฃู ุชุญููู ุงููููุงุช ุงููุฑููุฉ
```

#### 1.2 ุชุซุจูุช ุงูููุชุจุงุช
```bash
npm install
```

#### 1.3 ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
cp .env.example .env
```

ุนุฏูู ููู `.env`:
```env
# ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู
PORT=3002
NODE_ENV=production

# ุฅุนุฏุงุฏุงุช ุงูุฃูุงู (ููู ุฌุฏุงู!)
API_SECRET_KEY=your-super-secret-api-key-change-this-NOW
ALLOWED_ORIGINS=https://your-render-backend.onrender.com,http://localhost:3001

# ุฅุนุฏุงุฏุงุช Venom
WHATSAPP_SESSION_NAME=attendance-system-proxy
WHATSAPP_HEADLESS=true
WHATSAPP_DEBUG=false

# ูุณุงุฑ Chrome (ุญุณุจ ูุธุงู ุงูุชุดุบูู)
# Windows:
CHROME_PATH=C:\Program Files\Google\Chrome\Application\chrome.exe
# macOS:
# CHROME_PATH=/Applications/Google Chrome.app/Contents/MacOS/Google Chrome
# Linux:
# CHROME_PATH=/usr/bin/google-chrome

# ูุฌูุฏุงุช ุงูุชุฎุฒูู
TOKENS_PATH=./tokens
LOGS_PATH=./logs

# ุฅุนุฏุงุฏุงุช ุงูุฑุณุงุฆู
MAX_MESSAGES_PER_MINUTE=15
MESSAGE_DELAY=3000
```

#### 1.4 ุชุดุบูู ุงูุฎุงุฏู
```bash
# ููุชุทููุฑ
npm run dev

# ููุฅูุชุงุฌ
npm start
```

### ุงูุฎุทูุฉ 2: ุชููุฆุฉ ุงููุงุชุณุงุจ

#### 2.1 ูุณุญ QR Code
1. ุดุบูู ุงูุฎุงุฏู: `npm start`
2. ุณุชุธูุฑ QR Code ูู Terminal
3. ุงูุชุญ ูุงุชุณุงุจ ุนูู ูุงุชูู
4. ุงุฐูุจ ุฅูู: **ุงูุฅุนุฏุงุฏุงุช** โ **ุงูุฃุฌูุฒุฉ ุงููุฑุชุจุทุฉ** โ **ุฑุจุท ุฌูุงุฒ**
5. ุงูุณุญ QR Code
6. ุงูุชุธุฑ ุฑุณุงูุฉ "โ ุชู ุงูุงุชุตุงู ุจุงููุงุชุณุงุจ ุจูุฌุงุญ!"

#### 2.2 ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
```bash
npm test
```

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ ุงูุดุจูุฉ ูููุตูู ูู Render

#### 3.1 ูุนุฑูุฉ IP ุงูุฎุงุต ุจู
```bash
# Windows
ipconfig

# macOS/Linux
ifconfig
# ุฃู
ip addr show
```

#### 3.2 ุฅุนุฏุงุฏ Router (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
- ุงูุชุญ ุฅุนุฏุงุฏุงุช Router
- ุฃุถู Port Forwarding ูููููุฐ 3002
- ูุฌู ุงููููุฐ ุฅูู IP ุฌูุงุฒู ุงููุญูู

#### 3.3 ุงุฎุชุจุงุฑ ุงููุตูู ุงูุฎุงุฑุฌู
```bash
# ูู ุฌูุงุฒ ุขุฎุฑ ุฃู ูููุน online
curl http://YOUR_PUBLIC_IP:3002/api/test
```

### ุงูุฎุทูุฉ 4: ุชุญุฏูุซ Backend ุนูู Render

#### 4.1 ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Render
```env
# ูู Render Dashboard โ Environment Variables
VENOM_PROXY_URL=http://YOUR_PUBLIC_IP:3002/api
VENOM_PROXY_API_KEY=your-super-secret-api-key-change-this-NOW

# ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช Hostinger
DB_HOST=srv1695.hstgr.io
DB_USER=u723596365_HossamStudent
DB_PASSWORD=h?9a[ssGJrO
DB_NAME=u723596365_HossamStudent
```

#### 4.2 ุฅุนุงุฏุฉ ูุดุฑ Backend
- ุงุฏูุน ุงูุชุบููุฑุงุช ุฅูู GitHub
- ุณูุชู ุฅุนุงุฏุฉ ุงููุดุฑ ุชููุงุฆูุงู ุนูู Render

### ุงูุฎุทูุฉ 5: ุงุฎุชุจุงุฑ ุงููุธุงู ุงููุงูู

#### 5.1 ุงุฎุชุจุงุฑ ูู Frontend
1. ุงูุชุญ ุงูุชุทุจูู ุนูู Render
2. ุณุฌู ุงูุฏุฎูู: `admin` / `admin123`
3. ุงุฐูุจ ุฅูู **ุฅุฏุงุฑุฉ ุงููุงุชุณุงุจ**
4. ุงุถุบุท **ุชููุฆุฉ ุงููุงุชุณุงุจ**
5. ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ

#### 5.2 ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฑุณุงูุฉ
1. ูู ุชุจููุจ **ุงุฎุชุจุงุฑ ุงูุฑุณุงุฆู**
2. ุฃุฏุฎู ุฑูู ูุงุชูู
3. ุงุถุบุท **ุฅุฑุณุงู ุฑุณุงูุฉ ุงุฎุชุจุงุฑ**
4. ุชุญูู ูู ูุตูู ุงูุฑุณุงูุฉ

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุญููุง

### ูุดููุฉ: ูุง ูููู ุงููุตูู ูู Venom Proxy ูู Render

**ุงูุฃุนุฑุงุถ:**
```
ECONNREFUSED: Connection refused
```

**ุงูุญููู:**
1. **ุชุญูู ูู ุชุดุบูู ุงูุฎุงุฏู:**
   ```bash
   # ุนูู ุฌูุงุฒู
   netstat -an | findstr :3002
   ```

2. **ุชุญูู ูู Firewall:**
   ```bash
   # Windows - ุงูุณูุงุญ ูููููุฐ 3002
   netsh advfirewall firewall add rule name="Venom Proxy" dir=in action=allow protocol=TCP localport=3002
   ```

3. **ุชุญูู ูู Router Port Forwarding:**
   - ุชุฃูุฏ ูู ุชูุฌูู ุงููููุฐ 3002 ูุฌูุงุฒู

4. **ุงุณุชุฎุฏู Dynamic DNS:**
   ```bash
   # ุฅุฐุง ูุงู IP ูุชุบูุฑุ ุงุณุชุฎุฏู ุฎุฏูุฉ ูุซู No-IP ุฃู DuckDNS
   VENOM_PROXY_URL=http://your-domain.ddns.net:3002/api
   ```

### ูุดููุฉ: QR Code ูุง ูุธูุฑ

**ุงูุญููู:**
1. **ุชุญูู ูู ูุณุงุฑ Chrome:**
   ```env
   # ูู .env
   CHROME_PATH=C:\Program Files\Google\Chrome\Application\chrome.exe
   ```

2. **ุชุซุจูุช Chrome ุฅุฐุง ูู ููู ููุฌูุฏุงู:**
   ```bash
   # ุชุญููู ูู ุงููููุน ุงูุฑุณูู
   https://www.google.com/chrome/
   ```

3. **ุชุดุบูู ุจุฏูู headless ููุงุฎุชุจุงุฑ:**
   ```env
   WHATSAPP_HEADLESS=false
   ```

### ูุดููุฉ: ุงููุทุงุน ุงูุงุชุตุงู ุงููุชูุฑุฑ

**ุงูุญููู:**
1. **ุชุญุณูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ:**
   ```env
   # ุฒูุงุฏุฉ timeout
   WHATSAPP_TIMEOUT=180000
   ```

2. **ุชุญูู ูู ุงุณุชูุฑุงุฑ ุงูุฅูุชุฑูุช:**
   ```bash
   # ุงุฎุชุจุงุฑ ping ูุณุชูุฑ
   ping -t google.com
   ```

3. **ุฅุนุงุฏุฉ ุชุดุบูู ุฏูุฑูุฉ:**
   ```bash
   # ุฅุถุงูุฉ cron job ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุงููููู
   0 2 * * * cd /path/to/venom-proxy-server && npm restart
   ```

### ูุดููุฉ: ูุดู ุฅุฑุณุงู ุงูุฑุณุงุฆู

**ุงูุญููู:**
1. **ุชุญูู ูู ุชูุณูู ุงูุฃุฑูุงู:**
   ```javascript
   // ุฃุฑูุงู ุตุญูุญุฉ:
   "201002246668" // ูุตุฑู
   "966501234567" // ุณุนูุฏู
   ```

2. **ุชุญูู ูู ุญุงูุฉ ุงูุงุชุตุงู:**
   ```bash
   curl http://localhost:3002/api/whatsapp/status
   ```

3. **ุงุฎุชุจุงุฑ ุฑุณุงูุฉ ูุงุญุฏุฉ ุฃููุงู:**
   ```bash
   curl -X POST http://localhost:3002/api/whatsapp/test-message \
     -H "Content-Type: application/json" \
     -H "X-API-Key: your-api-key" \
     -d '{"phoneNumber": "966501234567"}'
   ```

## ๐ ุงูุฃูุงู ูุงูุญูุงูุฉ

### 1. ุญูุงูุฉ API Key
```env
# ุงุณุชุฎุฏู ููุชุงุญ ููู ููุนูุฏ
API_SECRET_KEY=Att3nd4nc3-Syst3m-V3n0m-Pr0xy-2024-S3cur3-K3y
```

### 2. ุชูููุฏ ุงููุตูู
```env
# ุญุฏุฏ ุงููุทุงูุงุช ุงููุณููุญุฉ ููุท
ALLOWED_ORIGINS=https://your-render-backend.onrender.com
```

### 3. ูุฑุงูุจุฉ ุงูุณุฌูุงุช
```bash
# ูุฑุงูุจุฉ ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
tail -f logs/venom-proxy.log
```

### 4. ูุณุฎ ุงุญุชูุงุทู ููุชููู
```bash
# ูุณุฎ ุงุญุชูุงุทู ูููู
tar -czf tokens-backup-$(date +%Y%m%d).tar.gz tokens/
```

## ๐ ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ

### 1. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
```bash
# ูุญุต ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
ps aux | grep node

# ูุญุต ุงูููุงูุฐ
netstat -tulpn | grep :3002
```

### 2. ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
```bash
# ุงุณุชุฎุฏุงู PM2 ููุฅุฏุงุฑุฉ
npm install -g pm2
pm2 start server.js --name venom-proxy
pm2 startup
pm2 save
```

### 3. ุชูุธูู ุฏูุฑู
```bash
# ุชูุธูู ุงูุณุฌูุงุช ุงููุฏููุฉ
find logs/ -name "*.log" -mtime +7 -delete

# ุชูุธูู ูููุงุช ุงูุชููู ุงููุฏููุฉ (ุงุญุฐุฑ!)
# rm -rf tokens/old-sessions/
```

## ๐ ูุตุงุฆุญ ุงูุชุญุณูู

### 1. ุชุญุณูู ุงูุฃุฏุงุก
```env
# ุฒูุงุฏุฉ ุญุฏ ุงูุฑุณุงุฆู ููุญุณุงุจุงุช ุงููุชููุฒุฉ
MAX_MESSAGES_PER_MINUTE=30
MESSAGE_DELAY=2000
```

### 2. ุชุญุณูู ุงูุงุณุชูุฑุงุฑ
```javascript
// ูู server.js - ุฅุถุงูุฉ health check
app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    uptime: process.uptime(),
    memory: process.memoryUsage(),
    timestamp: new Date().toISOString()
  });
});
```

### 3. ุชุญุณูู ุงูุฃูุงู
```javascript
// ุฅุถุงูุฉ rate limiting ุฃูุซุฑ ุชูููุฏุงู
const strictLimiter = rateLimit({
  windowMs: 1 * 60 * 1000,
  max: 10, // 10 ุทูุจุงุช ููุท ููุชููุฆุฉ
  skip: (req) => req.path !== '/api/whatsapp/initialize'
});
```

## ๐ ุงูุฏุนู ุงูููู

### ูู ุญุงูุฉ ููุงุฌูุฉ ูุดุงูู:

1. **ุชุญูู ูู ุงูุณุฌูุงุช:**
   ```bash
   # ุณุฌูุงุช Venom Proxy
   tail -f logs/venom-proxy.log
   
   # ุณุฌูุงุช ุงููุธุงู
   journalctl -f -u venom-proxy
   ```

2. **ุงุฎุชุจุงุฑ ุงูุงุชุตุงูุงุช:**
   ```bash
   # ุงุฎุชุจุงุฑ Proxy
   curl http://localhost:3002/api/test
   
   # ุงุฎุชุจุงุฑ ูู Render
   curl https://your-render-backend.onrender.com/api/test
   ```

3. **ุฅุนุงุฏุฉ ุชุดุบูู ูุงููุฉ:**
   ```bash
   # ุฅููุงู ุงูุฎุงุฏู
   pm2 stop venom-proxy
   
   # ุญุฐู ุงูุชููู (ุณูุชุทูุจ ุฅุนุงุฏุฉ ูุณุญ QR)
   rm -rf tokens/
   mkdir tokens
   
   # ุฅุนุงุฏุฉ ุงูุชุดุบูู
   pm2 start venom-proxy
   ```

## ๐ฏ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

### ุนูู ุฌูุงุฒู ุงูุดุฎุตู:
- [ ] Node.js ูุซุจุช ููุนูู
- [ ] Chrome ูุซุจุช ููุญุฏุซ
- [ ] Venom Proxy ูุนูู ุนูู ุงููููุฐ 3002
- [ ] QR Code ุชู ูุณุญู ุจูุฌุงุญ
- [ ] ุงุฎุชุจุงุฑ ุงูุฑุณุงูุฉ ูุนูู ูุญููุงู
- [ ] Firewall ูุณูุญ ุจุงููููุฐ 3002
- [ ] Router Port Forwarding ููุนุฏ (ุฅุฐุง ูุฒู)

### ุนูู Render:
- [ ] Backend ููุดูุฑ ููุนูู
- [ ] ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุญุฏุซุฉ
- [ ] VENOM_PROXY_URL ุตุญูุญ
- [ ] VENOM_PROXY_API_KEY ูุชุทุงุจู
- [ ] ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจู Proxy ูุนูู

### ุนูู Hostinger:
- [ ] ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู
- [ ] ุจูุงูุงุช ุงูุงุชุตุงู ุตุญูุญุฉ
- [ ] ุงูุฌุฏุงูู ููุฌูุฏุฉ ููุญุฏุซุฉ

### ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู:
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูููุธุงู ูุนูู
- [ ] ุชููุฆุฉ ุงููุงุชุณุงุจ ูู ุงููุธุงู ุชุนูู
- [ ] ุฅุฑุณุงู ุฑุณุงูุฉ ุงุฎุชุจุงุฑ ูุนูู
- [ ] ุฅุฑุณุงู ุชูุฑูุฑ ุฌูุณุฉ ูุงูู ูุนูู

## ๐ ุชูุงูููุง!

ุฅุฐุง ุงุชุจุนุช ุฌููุน ุงูุฎุทูุงุช ุจูุฌุงุญุ ูุฃูุช ุงูุขู ุชููู:

โ **ูุธุงู ุฅุฏุงุฑุฉ ุญุถูุฑ ูุชูุงูู** ูุนูู ุนูู ุงูุฅูุชุฑูุช  
โ **ุฎุฏูุฉ ูุงุชุณุงุจ ูุณุชูุฑุฉ** ุนูู ุฌูุงุฒู ุงูุดุฎุตู  
โ **ูุงุนุฏุฉ ุจูุงูุงุช ุขููุฉ** ุนูู Hostinger  
โ **ุชุทุจูู ููุจ ุณุฑูุน** ุนูู Render  

**ุงุณุชูุชุน ุจุงููุธุงู ูุงุณุชุฎุฏูู ุจุญููุฉ! ๐โจ**

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงุญุชูุธ ุจุฌูุงุฒู ูุดุบูุงู**: Venom Proxy ูุญุชุงุฌ ููุนูู ุงููุณุชูุฑ
2. **ุฑุงูุจ ุงุณุชููุงู ุงูุฅูุชุฑูุช**: ุงููุงุชุณุงุจ ูุณุชููู ุจูุงูุงุช
3. **ุงูุชุจู ูุญุฏูุฏ ุงูุฅุฑุณุงู**: ูุง ุชุชุฌุงูุฒ 50 ุฑุณุงูุฉ/ุณุงุนุฉ
4. **ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ**: ุฎุงุตุฉ ูููุงุช ุงูุชููู
5. **ุฑุงูุจ ุงูุณุฌูุงุช**: ูุงูุชุดุงู ุงููุดุงูู ูุจูุฑุงู

**ูุตูุญุฉ ุฃุฎูุฑุฉ**: ุงุญุชูุธ ุจูุฐุง ุงูุฏููู ูู ููุงู ุขูู ููุฑุฌูุน ุฅููู! ๐๐